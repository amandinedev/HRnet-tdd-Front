@use "../../sass/abstracts" as *;
@use "sass:color";

// ============================================================================
// CONTAINER
// ============================================================================
.df-input-text-container {
  display: flex;
  flex-direction: column;
  gap: 8px;
  width: 100%;
}

// ============================================================================
// LABEL STYLING
// ============================================================================
.df-input-text-label {
  font-weight: $df-font-weight-semibold;
  color: $df-text-color;
  font-size: 0.95em;
  text-align: start;
  
  &.required::after {
    content: ' *';
    color: $df-error-color;
  }
  
  .df-dark-theme & {
    color: $df-dark-text;
    
    &.required::after {
      color: $df-dark-error;
    }
  }
}

// ============================================================================
// INPUT FIELD STYLING
// ============================================================================
.df-input-text-field {
  width: 100%;
  padding: 10px 12px;
  border: 1px solid $df-border-color;
  border-radius: $df-border-radius-sm;
  font-family: $df-font-family;
  font-size: $df-font-size;
  background: $df-field-bg;
  color: $df-text-color;
  transition: all $df-transition-speed $df-transition-timing;
  box-sizing: border-box;
  
  &:not(:disabled):not(.error):hover {
    border: 2px solid $df-primary-color;
    background: rgba($df-primary-color, 0.08);
    padding: 9px 11px;
  }
  
  &:not(.error):focus,
  &:not(.error):focus-visible {
    outline: none;
    border: 2px solid $df-primary-color;
    background: rgba($df-primary-color, 0.08);
    padding: 9px 11px;
  }
  
  &:disabled {
    opacity: 0.6;
    cursor: not-allowed;
    background-color: color.scale($df-field-bg, $lightness: -5%);
    
    &:hover {
      border: 1px solid $df-border-color;
      background-color: color.scale($df-field-bg, $lightness: -5%);
      padding: 10px 12px;
    }
  }
  
  &.error {
    border: 1px solid $df-error-color;
    color: $df-error-color;
    
    &:not(:disabled):hover {
      border: 2px solid $df-error-color;
      background: rgba($df-error-color, 0.08);
      padding: 9px 11px;
    }
    
    &:focus,
    &:focus-visible {
      outline: none;
      border: 2px solid $df-error-color;
      background: rgba($df-error-color, 0.08);
      padding: 9px 11px;
    }
  }
  
  &::placeholder {
    color: $df-placeholder-color;
    font-weight: normal;
  }
  
  &:-webkit-autofill {
    -webkit-box-shadow: 0 0 0px 1000px $df-field-bg inset;
    -webkit-text-fill-color: $df-text-color;
  }
}

// ============================================================================
// DARK THEME STYLING
// ============================================================================
.df-dark-theme {
  .df-input-text-field {
    background: $df-dark-cell-bg;
    color: $df-dark-text;
    border-color: $df-dark-border;
    
    &:not(:disabled):not(.error):hover {
      border: 2px solid $df-primary-color-light;
      background: rgba($df-primary-color-light, 0.12);
      padding: 9px 11px;
    }
    
    &:not(.error):focus,
    &:not(.error):focus-visible {
      border: 2px solid $df-primary-color-light;
      background: rgba($df-primary-color-light, 0.12);
      padding: 9px 11px;
    }
    
    &:disabled {
      background-color: color.scale($df-dark-cell-bg, $lightness: 2%);
      
      &:hover {
        border: 1px solid $df-dark-border;
        background-color: color.scale($df-dark-cell-bg, $lightness: 2%);
        padding: 10px 12px;
      }
    }
    
    &.error {
      border: 1px solid $df-dark-error;
      color: $df-dark-error;
      
      &:not(:disabled):hover {
        border: 2px solid $df-dark-error;
        background: rgba($df-dark-error, 0.12);
        padding: 9px 11px;
      }
      
      &:focus,
      &:focus-visible {
        border: 2px solid $df-dark-error;
        background: rgba($df-dark-error, 0.12);
        padding: 9px 11px;
      }
    }
    
    &::placeholder {
      color: $df-dark-placeholder;
    }
    
    &:-webkit-autofill {
      -webkit-box-shadow: 0 0 0px 1000px $df-dark-cell-bg inset;
      -webkit-text-fill-color: $df-dark-text;
    }
  }
}

// ============================================================================
// ERROR MESSAGE STYLING
// ============================================================================
.df-input-text-error {
  color: $df-error-color;
  font-size: 0.85em;
  margin: 0;
  
  .df-dark-theme & {
    color: $df-dark-error;
  }
}

// ============================================================================
// ACCESSIBILITY
// ============================================================================
@media (prefers-reduced-motion: reduce) {
  .df-input-text-field {
    transition: none;
  }
}

// ============================================================================
// PRINT STYLING
// ============================================================================
@media print {
  .df-input-text-field {
    border: 1px solid #ccc;
    background: white;
    color: black;
    
    &.error {
      border-color: #990000;
      color: #990000;
    }
  }
}